# A64RF Register-File Playground

This repository contains a minimal framework for experimenting with ARMv8-A register snapshots and instruction emulation.  It offers a small C library that models the general purpose and NEON vector registers of a 64‑bit ARM core along with helper routines to inspect and modify the state.

## Repository layout

- `include/` – Public headers describing the register file, helpers and instruction API.
- `src/` – Implementations for snapshot/dump routines used by the examples.
- `asm.S` – Demo assembly showing how to call the snapshot macros.
- `tests/` – Small sample programs using the API.  Each file can be built independently.
- `ntt_radix2_merge3.s` and `ntt8_twiddle.h` – Example NEON implementation of a three layer NTT along with its constants (generated by `roots.py`).

## Building

Any AArch64 toolchain (for example `clang --target=aarch64-linux-gnu` or `aarch64-linux-gnu-gcc`) can build the examples.  Compile the C sources together with the assembly file:

```sh
aarch64-linux-gnu-gcc -DA64RF_TRACE -c asm.S -o asm.o
aarch64-linux-gnu-gcc driver.c src/a64rf_dump.c src/a64rf_snap.c asm.o -o driver
```

Defining `A64RF_TRACE` enables the snapshot macros so the program prints register dumps before and after the assembly routine.

Each file under `tests/` can be compiled in the same fashion.  For example:

```sh
aarch64-linux-gnu-gcc tests/example001.c src/a64rf_dump.c src/a64rf_snap.c -o example001
```

## Status

The snapshot helpers and the unit tests are stable.  Many instruction helpers are still incomplete, so the library should be considered experimental.  Contributions and bug reports are welcome.

